import{o as n,c as e,a,b as t}from"./app.6013c500.js";const s='{"title":"使用不同的方法来创建对象和生成原型链","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用不同的方法来创建对象和生成原型链","slug":"使用不同的方法来创建对象和生成原型链"},{"level":3,"title":"使用语法结构创建的对象","slug":"使用语法结构创建的对象"},{"level":3,"title":"使用构造器创建的对象","slug":"使用构造器创建的对象"},{"level":3,"title":"使用 Object.create 创建的对象","slug":"使用-object-create-创建的对象"},{"level":3,"title":"使用 class 关键字创建的对象","slug":"使用-class-关键字创建的对象"}],"relativePath":"guide/14. js原型链.md","lastUpdated":1625130822053}',o={},r=a("p",null,"js 原型链",-1),c=a("p",null,[a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain",target:"_blank",rel:"noopener noreferrer"},"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain")],-1),p=a("div",{class:"language-"},[a("pre",null,[a("code",null,"JavaScript 只有一种结构：对象。每个实例对象（ object ）都有一个私有属性（称之为 __proto__ ）指向它的构造函数的原型对象（prototype ）。该原型对象也有一个自己的原型对象( __proto__ ) ，层层向上直到一个对象的原型对象为 null。根据定义，null 没有原型，并作为这个原型链中的最后一个环节。\n\n几乎所有 JavaScript 中的对象都是位于原型链顶端的 Object 的实例。\n\n尽管这种原型继承通常被认为是 JavaScript 的弱点之一，但是原型继承模型本身实际上比经典模型更强大。\n\n")])],-1),l=a("div",{class:"language-"},[a("pre",null,[a("code",null,"在Javascript中，每个函数都有一个原型属性 prototype 指向自身的原型， 而由这个函数创建的对象也有一个__proto__ 属性指向这个原型，而函数的原型是一个对象，所以这个对象也会有一个__proto__指向自己的原型，这样逐层深入直到Object对象的原型，这样就形成了原型链.\n\n函数的原型属性 prototype 只想自身原型 而自身原型的 constructor 指向这个函数\n\n")])],-1),u=a("p",null,[a("img",{src:"/assets/169757c9840bca7e.582feed1.png",alt:"169757c9840bca7e"})],-1),i=a("p",null,"![image-20210611183623319](/Users/star/Library/Application Support/typora-user-images/image-20210611183623319.png![image-20210611183644730](/Users/star/Library/Application Support/typora-user-images/image-20210611183644730.png)",-1),k=a("h2",{id:"使用不同的方法来创建对象和生成原型链"},[a("a",{class:"header-anchor",href:"#使用不同的方法来创建对象和生成原型链","aria-hidden":"true"},"#"),t(),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E6%96%B9%E6%B3%95%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%94%9F%E6%88%90%E5%8E%9F%E5%9E%8B%E9%93%BE",target:"_blank",rel:"noopener noreferrer"},"使用不同的方法来创建对象和生成原型链")],-1),d=a("h3",{id:"使用语法结构创建的对象"},[a("a",{class:"header-anchor",href:"#使用语法结构创建的对象","aria-hidden":"true"},"#"),t(),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"},"使用语法结构创建的对象")],-1),h=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"var"),t(" o "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t("a"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token comment"},"// o 这个对象继承了 Object.prototype 上面的所有属性"),t("\n"),a("span",{class:"token comment"},"// o 自身没有名为 hasOwnProperty 的属性"),t("\n"),a("span",{class:"token comment"},"// hasOwnProperty 是 Object.prototype 的属性"),t("\n"),a("span",{class:"token comment"},"// 因此 o 继承了 Object.prototype 的 hasOwnProperty"),t("\n"),a("span",{class:"token comment"},"// Object.prototype 的原型为 null"),t("\n"),a("span",{class:"token comment"},"// 原型链如下:"),t("\n"),a("span",{class:"token comment"},"// o ---\x3e Object.prototype ---\x3e null"),t("\n\n"),a("span",{class:"token keyword"},"var"),t(" a "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},'"yo"'),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token string"},'"whadup"'),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token string"},'"?"'),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token comment"},"// 数组都继承于 Array.prototype"),t("\n"),a("span",{class:"token comment"},"// (Array.prototype 中包含 indexOf, forEach 等方法)"),t("\n"),a("span",{class:"token comment"},"// 原型链如下:"),t("\n"),a("span",{class:"token comment"},"// a ---\x3e Array.prototype ---\x3e Object.prototype ---\x3e null"),t("\n\n"),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"f"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token comment"},"// 函数都继承于 Function.prototype"),t("\n"),a("span",{class:"token comment"},"// (Function.prototype 中包含 call, bind等方法)"),t("\n"),a("span",{class:"token comment"},"// 原型链如下:"),t("\n"),a("span",{class:"token comment"},"// f ---\x3e Function.prototype ---\x3e Object.prototype ---\x3e null"),t("\n")])])],-1),m=a("h3",{id:"使用构造器创建的对象"},[a("a",{class:"header-anchor",href:"#使用构造器创建的对象","aria-hidden":"true"},"#"),t(),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%99%A8%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"},"使用构造器创建的对象")],-1),g=a("p",null,[t("在 JavaScript 中，构造器其实就是一个普通的函数。当使用 "),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new",target:"_blank",rel:"noopener noreferrer"},"new 操作符"),t(" 来作用这个函数时，它就可以被称为构造方法（构造函数）。")],-1),b=a("p",null,"new 关键字会进行如下的操作：",-1),y=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[t("创建一个空的简单JavaScript对象（即"),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),t("）；\n链接该对象（设置该对象的constructor）到另一个对象 ；\n将步骤"),a("span",{class:"token number"},"1"),t("新创建的对象作为"),a("span",{class:"token keyword"},"this"),t("的上下文 ；\n如果该函数没有返回对象，则返回"),a("span",{class:"token keyword"},"this"),t("。\n（译注：关于对象的 constructor，参见 "),a("span",{class:"token class-name"},"Object"),a("span",{class:"token punctuation"},"."),t("prototype"),a("span",{class:"token punctuation"},"."),t("constructor）\n\n当代码 "),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"..."),a("span",{class:"token punctuation"},")"),t(" 执行时，会发生以下事情：\n\n一个继承自 "),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"."),t("prototype 的新对象被创建。\n使用指定的参数调用构造函数 Foo，并将 "),a("span",{class:"token keyword"},"this"),t(" 绑定到新创建的对象。"),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Foo"),t(" 等同于 "),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Foo"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("，也就是没有指定参数列表，Foo 不带任何参数调用的情况。\n由构造函数返回的对象就是 "),a("span",{class:"token keyword"},"new"),t(" 表达式的结果。如果构造函数没有显式返回一个对象，则使用步骤"),a("span",{class:"token number"},"1"),t("创建的对象。（一般情况下，构造函数不返回值，但是用户可以选择主动返回对象，来覆盖正常的对象创建步骤）\n")])])],-1),E=a("div",{class:"language-"},[a("pre",null,[a("code",null,"function Graph() {\n  this.vertices = [];\n  this.edges = [];\n}\n\nGraph.prototype = {\n  addVertex: function(v){\n    this.vertices.push(v);\n  }\n};\n\nvar g = new Graph();\n// g 是生成的对象，他的自身属性有 'vertices' 和 'edges'。\n// 在 g 被实例化时，g.[[Prototype]] 指向了 Graph.prototype。\n")])],-1),v=a("h3",{id:"使用-object-create-创建的对象"},[a("a",{class:"header-anchor",href:"#使用-object-create-创建的对象","aria-hidden":"true"},"#"),t(),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#%E4%BD%BF%E7%94%A8_object.create_%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"},[t("使用 "),a("code",null,"Object.create"),t(" 创建的对象")])],-1),_=a("p",null,[t("ECMAScript 5 中引入了一个新方法："),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"Object.create()")]),t("。可以调用这个方法来创建一个新对象。新对象的原型就是调用 create 方法时传入的第一个参数：")],-1),f=a("div",{class:"language-"},[a("pre",null,[a("code",null,"var a = {a: 1};\n// a ---\x3e Object.prototype ---\x3e null\n\nvar b = Object.create(a);\n// b ---\x3e a ---\x3e Object.prototype ---\x3e null\nconsole.log(b.a); // 1 (继承而来)\n\nvar c = Object.create(b);\n// c ---\x3e b ---\x3e a ---\x3e Object.prototype ---\x3e null\n\nvar d = Object.create(null);\n// d ---\x3e null\nconsole.log(d.hasOwnProperty); // undefined, 因为d没有继承Object.prototype\n")])],-1),B=a("h3",{id:"使用-class-关键字创建的对象"},[a("a",{class:"header-anchor",href:"#使用-class-关键字创建的对象","aria-hidden":"true"},"#"),t(),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#%E4%BD%BF%E7%94%A8_class_%E5%85%B3%E9%94%AE%E5%AD%97%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"},[t("使用 "),a("code",null,"class"),t(" 关键字创建的对象")])],-1),w=a("p",null,[t("ECMAScript6 引入了一套新的关键字用来实现 "),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes",target:"_blank",rel:"noopener noreferrer"},"class"),t("。使用基于类语言的开发人员会对这些结构感到熟悉，但它们是不同的。JavaScript 仍然基于原型。这些新的关键字包括 "),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/class",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"class")]),t(", "),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes/constructor",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"constructor")]),t("，"),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes/static",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"static")]),t("，"),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes/extends",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"extends")]),t(" 和 "),a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/super",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"super")]),t("。")],-1),A=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Super"),t(),a("span",{class:"token punctuation"},"{"),t("\n\t"),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("width"),a("span",{class:"token punctuation"},","),t(" height")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n\t\t"),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("width "),a("span",{class:"token operator"},"="),t(" width"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("height "),a("span",{class:"token operator"},"="),t(" height"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token keyword"},"get"),t(),a("span",{class:"token function"},"res"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n\t\t"),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("width "),a("span",{class:"token operator"},"*"),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("height"),a("span",{class:"token punctuation"},";"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token comment"},"// static"),t("\n  "),a("span",{class:"token comment"},"//"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Suber"),t(),a("span",{class:"token keyword"},"extends"),t(),a("span",{class:"token class-name"},"Super"),t(),a("span",{class:"token punctuation"},"{"),t("\n\t"),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"len"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n\t\t"),a("span",{class:"token keyword"},"super"),a("span",{class:"token punctuation"},"("),t("len"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" a "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Suber"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n")])])],-1);o.render=function(a,t,s,o,j,z){return n(),e("div",null,[r,c,p,l,u,i,k,d,h,m,g,b,y,E,v,_,f,B,w,A])};export default o;export{s as __pageData};
